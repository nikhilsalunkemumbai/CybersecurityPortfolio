# .github/workflows/rust-ci.yml
name: Rust Tools CI

on:
  push:
    paths:
      - 'rust/**'
      - '.github/workflows/rust-ci.yml'
  pull_request:
    paths:
      - 'rust/**'

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: dtolnay/rust-toolchain@stable
      with:
        toolchain: stable

    - name: Test Rust tools
      run: |
        cd rust
        for tool in */; do
          if [ -f "$tool/Cargo.toml" ]; then
            cd "$tool"
            cargo test --quiet > /dev/null 2>&1
            cd ..
          fi
        done
